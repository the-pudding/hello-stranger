import{b as F,h as I,a as H,E as L,H as O,C as Y,D as p,F as q,G as S,I as b,c as h,p as N,U as v,d as C,J as M,K as U,f as B,M as G,S as J}from"./D8-gxhuf.js";function P(a,t,[r,f]=[0,0]){I&&r===0&&H();var i=a,s=null,c=null,u=v,k=r>0?L:0,n=!1;const D=(T,l=!0)=>{n=!0,A(l,T)},A=(T,l)=>{if(u===(u=T))return;let E=!1;if(I&&f!==-1){if(r===0){const e=i.data;e===O?f=0:e===Y?f=1/0:(f=parseInt(e.substring(1)),f!==f&&(f=u?1/0:-1))}const g=f>r;!!u===g&&(i=p(),q(i),S(!1),E=!0,f=-1)}u?(s?b(s):l&&(s=h(()=>l(i))),c&&N(c,()=>{c=null})):(c?b(c):l&&(c=h(()=>l(i,[r+1,f]))),s&&N(s,()=>{s=null})),E&&S(!0)};F(()=>{n=!1,t(D),n||A(null,null)},k),I&&(i=C)}function R(a,t){return a===t||(a==null?void 0:a[J])===t}function Z(a={},t,r,f){return M(()=>{var i,s;return U(()=>{i=s,s=[],B(()=>{a!==r(...s)&&(t(a,...s),i&&R(r(...i),a)&&t(null,...i))})}),()=>{G(()=>{s&&R(r(...s),a)&&t(null,...s)})}}),a}export{Z as b,P as i};
